function initExample(){function e(){function e(e){function a(){0===n.videoWidth?setTimeout(a,100):t()}n.srcObject=e,n.play(),a()}window.navigator.mediaDevices.getUserMedia({video:{width:640,height:480,frameRate:30}}).then(e).catch(function(){alert("No camera available.")})}function t(){null===c&&(c={locateFile:function(){return"js/libs/brf/BRFv4_JS_trial.js.mem"}},initializeBRF(c)),c.sdkReady?a():setTimeout(t,100)}function a(){o.width=n.videoWidth,o.height=n.videoHeight,l=new c.Rectangle(0,0,o.width,o.height),r=new c.BRFManager,r.init(l,l,"com.tastenkunst.brfv4.js.examples.minimal.webcam"),setInterval(i,1e3/30)}function i(){var e=o.getContext("2d");e.setTransform(-1,0,0,1,l.width,0),e.drawImage(n,0,0,l.width,l.height),e.setTransform(1,0,0,1,0,0),r.update(e.getImageData(0,0,l.width,l.height).data);for(var t=r.getFaces(),a=0;a<t.length;a++){var i=t[a];if(i.state===c.BRFState.FACE_TRACKING_START||i.state===c.BRFState.FACE_TRACKING){e.strokeStyle="#00a0ff";for(var d=0;d<i.vertices.length;d+=2)e.beginPath(),e.arc(i.vertices[d],i.vertices[d+1],2,0,2*Math.PI),e.stroke()}}}var n=document.getElementById("_webcam"),o=document.getElementById("_imageData"),r=null,l=null,c=null;e();var d}window.onload=initExample;