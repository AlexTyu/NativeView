function resetRotation(){neck.rotation.x=0,neck.rotation.y=0,neck.rotation.z=0}function resetPosition(){camera.position.x=0,camera.position.y=0,camera.position.z=35}function getFace(t){data=t[0],head.position.x=data.translationX,head.position.y=data.translationY,head.rotation.x=data.rotationX,head.rotation.y=data.rotationY,head.rotation.z=data.rotationZ,head.scale=data.scale}function getSmile(t){t>.6&&(head.smile=!0)}function updateDistortion(t){effect2.uniforms.strength.value=t}function refresh(){location.reload()}function clearLocalStorage(){localStorage.clear()}function streamData(t){if(settings.eyetracking){var o=document.getElementById("pointer"),e=t,a=e.getGazeDirectionGlobal(),r=window.innerWidth/2,n=window.innerHeight/2,i=3*a[0]*n,c=2*a[1]*r;o.style.opacity=1,o.style.transform="translate3d("+-c+"px,"+i+"px,0)"}}var app=angular.module("NativeView",["ngStorage"]),socket=io(),gyro,socket=io.connect(),sdks=["visage","BRFv4"],based=["Movement","Rotation","Magic"],head={position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},scale:0,smile:!1};camera.position.z=85,neck.rotation.x=0,neck.rotation.y=0,neck.rotation.z=0,app.controller("ctrlr",function(t,o,e,a){t.$storage=o,t.camera=camera,t.sdks=sdks,t.based=based,t.settings=settings,t.data=head,t.gyroCenter={yaw:0,pitch:0,roll:0},t.vector=lineGeometry.vertices[1],t.changeVector=function(){lineGeometry.vertices[1]=t.vector},t.folder0=!1,t.folder1=!1,t.folder2=!1,t.folder3=!1,t.distortion=distortion,socket.on("sendGyro",function(o){var e=o.gyroscope.data.toString(),a=e.replace(/'/g,'"'),r=JSON.parse(a);t.gyro=r,gyroscope.active&&(camera.rotation.y=.016666*-t.gyro.yaw-t.gyroCenter.yaw,camera.rotation.x=.016666*t.gyro.pitch-t.gyroCenter.pitch,camera.rotation.z=.016666*-t.gyro.roll-t.gyroCenter.roll)}),t.recenterRotation=function(){t.gyroCenter.yaw=0,camera.rotation.y=.016666*-t.gyro.yaw,t.gyroCenter.yaw=camera.rotation.y-t.gyroCenter.yaw,t.gyroCenter.pitch=0,camera.rotation.x=.016666*t.gyro.pitch,t.gyroCenter.pitch=camera.rotation.x-t.gyroCenter.pitch,t.gyroCenter.roll=0,camera.rotation.z=.016666*-t.gyro.roll,t.gyroCenter.roll=camera.rotation.z-t.gyroCenter.roll},t.resetRotation=function(){camera.rotation.y=0,camera.rotation.x=0,camera.rotation.z=0},t.updateSDK=function(t){t?(settings.eyetracking=!0,settings.headtracking.active=!1,StartTracker(),setTimeout("location.reload();",6e4)):(StopTracker(),settings.eyetracking=!1,setTimeout("location.reload();",6e6))},t.$storage=o.$default({settings:settings}),t.settings=t.$storage.settings}),window._alert=window.alert,window.alert=function(){};